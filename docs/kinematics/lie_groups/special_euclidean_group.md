# Special Euclidean Group

## SE(3) Definition

Special Euclidean group, representing poses (i.e., translation and rotation) is a group is defined as:

$$
SE(3) = \left\{ \mathbf{T} =
    \left[
    \begin{array}{cc}
    \mathbf{R} & \mathbf{t} \\
    \mathbf{0}^T & 1
    \end{array}
    \right]
    \in \mathbb{R}^{4 \times 4} \ | \
    \mathbf{R} \in SO(3), \ \mathbf{t} \in \mathbb{R}^3
    \right\}.
$$

Any matrix $\mathbf{T} \in SE(3)$ is a 4D transformation matrix (in homogeneous coordinates) that applies rotation and translation simultaneously. Inverse of $\mathbf{T}$ represents an inverse transformation:

$$
\mathbf{T}^{-1} =
\left[
\begin{array}{cc}
\mathbf{R}^T & -\mathbf{R}^T \mathbf{t} \\
\mathbf{0}^T & 1
\end{array}
\right].
$$

Transformation matrix has 16 elements but 3D coordinate transformation and translation has only 6 DOF.

## Lie Algebra for SE(3)

Similar to $\mathfrak{so}(3)$, $\mathfrak{se}(3)$ is in $\mathbb{R}^6$:

$$
\begin{align}
\text{Vector space: } &\mathfrak{se}(3) = \left\{ \boldsymbol{\Xi} = \left[ \boldsymbol{\xi} \right]_\times \in \mathbb{R}^{4 \times 4} \ | \ \boldsymbol{\xi} \in \mathbb{R}^6  \right\} \\
\text{Field: } &\mathbb{R} \\
\text{Lie bracket: } &\left[\boldsymbol{\Xi}_1, \boldsymbol{\Xi}_2 \right] = \boldsymbol{\Xi}_1 \boldsymbol{\Xi}_2 - \boldsymbol{\Xi}_2 \boldsymbol{\Xi}_1,
\end{align}
$$

where:

$$
\boldsymbol{\xi} =
\left[
\begin{array}{c}
\boldsymbol{\ell} \\
\boldsymbol{\rho}
\end{array}
\right] \in \mathbb{R}^{6}, \
\boldsymbol{\ell}, \boldsymbol{\rho} \in \mathbb{R}^3, \
\left[ \boldsymbol{\xi} \right]_\times =
\left[
\begin{array}{cc}
\left[ \boldsymbol{\rho} \right]_\times & \boldsymbol{\ell} \\
\mathbf{0}^T & 0
\end{array}
\right] \in \mathbb{R}^{4 \times 4}.
$$

$\boldsymbol{\ell}$ is the "translation part" (note that this is different from the translation in the matrix). $\boldsymbol{\rho}$ is the rotation part. Here $\left[ \ \cdot \ \right]_\times$ has an extended meaning since in $\mathfrak{se}(3)$, a six-dimensional vector is converted to a four-dimensional matrix using the $\left[ \ \cdot \ \right]_\times$ operator, but it is no longer a skew-symmetric matrix. However, the meaning is still "vector-to-matrix" operation.

## Exponential and Logarithm Map

For poses, elements of $SE(3)$ can be related to the elements of $\mathfrak{se}(3)$ through the exponential map:

$$
\mathbf{T} = \exp \left\{ \boldsymbol{ \left[\xi \right]_\times} \right\} = \sum^\infty_{n = 0} \frac{1}{n!} \left[\boldsymbol{\xi} \right]^n_\times, \label{t_matrix}
$$

where $\mathbf{T} \in SE(3)$ and $\boldsymbol{\xi} \in \mathbb{R}^6$. We can go the other direction using:

$$
\boldsymbol{\xi} = \left[ \ln \mathbf{T} \right]_{-\times}.
$$

Note that a solution is not unique similar to rotation matrices. Eq ($\ref{t_matrix}$) can be expanded to show the surjective-only property, i.e., every $\mathbf{T} \in SE(3)$ can be generated by many $\boldsymbol{\xi} \in \mathbb{R}^6$. Starting with $\boldsymbol{\xi} = \left[\begin{array}{c} \boldsymbol{\ell} \\ \boldsymbol{\rho} \end{array} \right] \in \mathbb{R}^6$, we have:

$$
\begin{align}
\mathbf{e}^{\left[ \boldsymbol{\xi} \right]_\times} &=
\sum^\infty_{n = 0} \frac{1}{n!} \left(\left[ \boldsymbol{\xi} \right]_\times \right)^n \\
&= \sum^\infty_{n = 0} \frac{1}{n!} \left( \left[ \begin{array}{c} \boldsymbol{\ell} \\ \boldsymbol{\rho} \end{array} \right]_\times \right)^n \\
&= \sum^\infty_{n = 0} \frac{1}{n!}
\left[
\begin{array}{cc}
\left[\boldsymbol{\rho} \right]_\times & \boldsymbol{\ell} \\
\mathbf{0}^T & 0
\end{array}
\right]^n \\
&=
\left[
\begin{array}{cc}
\sum^{\infty}_{n = 0} \frac{1}{n!} \left( \left[ \boldsymbol{\rho} \right]_\times \right)^n & \left(\sum^{\infty}_{n = 0} \frac{1}{(n + 1)!} \left( \left[ \boldsymbol{\rho} \right]_\times \right)^n \right) \boldsymbol{\ell} \\
\mathbf{0}^T & 1
\end{array}
\right] \\
&\triangleq
\underbrace{
\left[
\begin{array}{cc}
\mathbf{R} & \mathbf{J} \boldsymbol{\ell} \\
\mathbf{0}^T & 1
\end{array}
\right]}_\mathbf{T} \in SE(3),
\end{align}
$$

where $\mathbf{J}$ is the **Jacobian**.

## Jacobian

The Jacobian plays an important role in allowing us to convert the translation component of pose in $\mathfrak{se}(3)$ into the translation component of pose in $SE(3)$ through $\mathbf{t} = \mathbf{J} \boldsymbol{\ell}$.
Let $\boldsymbol{\rho} = \theta \hat{\mathbf{e}}$. Then we can obtain closed-form solutions for the Jacobian matrix $\mathbf{J}$ and its inverse:

$$
\begin{align}
\mathbf{J} &\triangleq \sum^{\infty}_{n = 0} \frac{1}{(n + 1)!} \left( \left[ \boldsymbol{\rho} \right]_\times \right)^n \\
&= \mathbf{I} + \frac{1}{2!}\theta \left[ \hat{\mathbf{e}} \right]_\times
+ \frac{1}{3!}\theta^2 \left[ \hat{\mathbf{e}} \right]^2_\times + \frac{1}{4!}\theta^3 \left[ \hat{\mathbf{e}} \right]^3_\times \ldots \\
&= \frac{1}{\theta} \left( \frac{1}{2!}\theta^2 - \frac{1}{4!}\theta^4 \ldots \right) \left[ \hat{\mathbf{e}} \right]_\times
+ \frac{1}{\theta} \left(\frac{1}{3!} \theta^3 - \frac{1}{5}\theta^5 + \ldots \right) \left[ \hat{\mathbf{e}} \right]^2_\times + \mathbf{I} \\
&= \frac{1}{\theta} (1 - \cos \theta) \left[ \hat{\mathbf{e}} \right]_\times + 
\frac{\theta - \sin \theta}{\theta} (\hat{\mathbf{e}} \hat{\mathbf{e}}^T - \mathbf{I}) + \mathbf{I} \\ 
&= \frac{\sin \theta}{\theta} \mathbf{I} + \left(1 - \frac{\sin \theta}{\theta} \right) \hat{\mathbf{e}} \hat{\mathbf{e}}^T + 
\frac{1 - \cos \theta}{\theta} \left[ \hat{\mathbf{e}} \right]_\times \\ 
\mathbf{J}^{-1} &\triangleq \frac{\theta}{2} \cot \frac{\theta}{2} \mathbf{I} + 
\left(1 - \frac{\theta}{2} \cot \frac{\theta}{2} \right) \hat{\mathbf{e}} \hat{\mathbf{e}}^T - \frac{\theta}{2} \left[ \hat{\mathbf{e}} \right]_\times.
\end{align}
$$

The Jacobian can be represented by the rotation matrix as:

$$
\mathbf{J} = \int^1_0 \mathbf{R}^\alpha d \alpha.
$$

See Barfoot book for the proof. The reverse relationship is:

$$
\mathbf{R} = \mathbf{I} + \left[ \boldsymbol{\rho} \right]_\times \mathbf{J}.
$$
